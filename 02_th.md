# สัปดาห์ที่ 2 - React Native and its Toolchain


## การตั้งค่าสภาพแวดล้อมสำหรับการพัฒนา React Native

### วัตถุประสงค์การเรียนรู้

* ติดตั้งและตั้งค่าสภาพแวดล้อม React Native และอธิบายเครื่องมือหลักรวมถึงไวยากรณ์
* สร้างและรันแอปมือถือพื้นฐานโดยใช้ React Native และ Expo

### หัวข้อย่อย (Subtopics)

* Node.js และ npm
* React Native CLI เทียบกับ Expo CLI
* การตั้งค่า Visual Studio Code
* การสร้างแอปแรกด้วย Expo CLI

 

### ภาพรวมบท (Chapter Overview)

บทนี้ครอบคลุมทุกสิ่งที่คุณจำเป็นต้องรู้เพื่อเริ่มต้นการพัฒนาแอปพลิเคชันมือถือด้วย React Native คุณจะได้เรียนรู้เกี่ยวกับการติดตั้งเครื่องมือที่จำเป็น เช่น Node.js และ npm ความแตกต่างระหว่าง React Native CLI และ Expo CLI การตั้งค่า VS Code รวมถึงการสร้างแอปแรกบน Emulator และ Web การวางรากฐานนี้จะช่วยให้มั่นใจว่าสภาพแวดล้อมถูกกำหนดค่าอย่างถูกต้องเพื่อสนับสนุนการพัฒนาระดับสูงในบทถัดไป

React Native ช่วยให้นักพัฒนาสามารถสร้างแอปสำหรับ iOS และ Android ด้วยภาษา JavaScript การสร้างและทดสอบแอปพลิเคชันเหล่านี้จำเป็นต้องมีสภาพแวดล้อมที่ตั้งค่าอย่างเหมาะสม ประกอบด้วย Runtime Engine, Code Editor และเครื่องมือสร้างโครงสร้างโปรเจกต์ เช่น Expo หรือ React Native CLI การตั้งค่าอย่างถูกต้องสามารถช่วยลดเวลาการดีบักและเพิ่มประสิทธิภาพของกระบวนการพัฒนาได้

 

### Node.js และ npm

**Node.js** เป็น Runtime ของ JavaScript ฝั่งเซิร์ฟเวอร์ซึ่งทำงานบน Chrome V8 Engine ช่วยให้นักพัฒนาสามารถประมวลผล JavaScript นอกเบราว์เซอร์ ซึ่งมีความสำคัญต่อการทำงานของ Development Server, Bundler และ Command-line Tools ที่ใช้ใน React Native

#### npm คืออะไร?

**npm (Node Package Manager)** เป็นตัวจัดการแพ็กเกจเริ่มต้นของ Node.js ใช้สำหรับ:

* ติดตั้งแพ็กเกจ เช่น React Native, Expo และเครื่องมือพัฒนาอื่น ๆ
* จัดการ Dependencies และ Scripts ภายในโปรเจกต์
* รักษาความสอดคล้องของเวอร์ชัน

 

### คำแนะนำการติดตั้ง (Installation Instructions)

1. ไปที่ [https://nodejs.org](https://nodejs.org)
2. ดาวน์โหลดเวอร์ชัน **LTS (Long-Term Support)**
3. ดำเนินการติดตั้งตามระบบปฏิบัติการของคุณ
4. ตรวจสอบการติดตั้งด้วยคำสั่ง:

```bash
node -v
npm -v
```

**คำแนะนำสำหรับนักพัฒนา:**
หากคุณต้องทำงานกับหลายโปรเจกต์ที่ใช้ Node.js ต่างเวอร์ชัน ควรใช้ **nvm (Node Version Manager)** เพื่อจัดการเวอร์ชันได้อย่างยืดหยุ่น
 

## React Native CLI เทียบกับ Expo CLI

เมื่อต้องเริ่มโปรเจกต์ **React Native** นักพัฒนามักเลือกใช้เครื่องมือหลักสองแบบ ได้แก่ **React Native CLI** และ **Expo CLI** ซึ่งแต่ละแบบรองรับความซับซ้อนของโปรเจกต์และประสบการณ์นักพัฒนาที่แตกต่างกัน

* **React Native CLI**
  ให้การเข้าถึง **โค้ดเนทีฟ (Native Code)** ทั้ง Android และ iOS โดยตรง เหมาะสำหรับแอปที่ต้องการ **โมดูลเนทีฟเฉพาะ**, **การประมวลผลเบื้องหลังขั้นสูง**, หรือการเชื่อมต่อกับ **SDK ของบุคคลที่สาม** ที่ไม่ได้รองรับใน Expo ข้อดีคือให้การควบคุมเต็มรูปแบบ แต่ต้องการการติดตั้งที่ซับซ้อน (Android Studio, Xcode และการจัดการ Dependencies ด้วยตนเอง)

* **Expo CLI**
  ช่วยให้งานง่ายขึ้นด้วย **Managed Workflow** และ API ที่เตรียมไว้แล้ว เหมาะสำหรับ **การสร้างต้นแบบ (Prototyping)**, **MVPs**, และแอปที่ไม่ต้องการปรับแต่งเชิงลึก Expo รองรับ **OTA Updates**, **Cloud Build (EAS)** และทำงานได้อย่างรวดเร็วโดยไม่ต้องเขียนโค้ดเนทีฟ อย่างไรก็ตาม หากต้องการฟังก์ชันเนทีฟเฉพาะ จะต้อง “**Eject**” ออกจาก Expo ไปสู่รูปแบบที่คล้ายกับ React Native CLI

**สรุป:**

* ถ้าเป็นแอปเรียบง่าย ต้องการพัฒนาเร็ว → เลือก **Expo CLI**
* ถ้าเป็นแอปที่ซับซ้อน ต้องการความยืดหยุ่นและควบคุมโค้ดเนทีฟ → เลือก **React Native CLI**

 

### React Native CLI

**React Native CLI** มอบการเข้าถึงฟีเจอร์เนทีฟของแพลตฟอร์มอย่างเต็มรูปแบบ เหมาะกับการสร้างแอปที่ซับซ้อน ต้องใช้ **API เฉพาะแพลตฟอร์ม**, **โมดูลเนทีฟแบบกำหนดเอง**, หรือ **ไลบรารีที่ใช้โค้ดเนทีฟ**

ข้อควรทราบ:

* ต้องติดตั้งและตั้งค่า **Android Studio** (สำหรับ Android) และ **Xcode** (สำหรับ iOS) ด้วยตนเอง
* ต้องจัดการ Emulator, SDK และ Dependencies เอง

การสร้างโปรเจกต์ใหม่:

```bash
npx react-native init MyProject
```

---

### Expo CLI

**Expo CLI** ถูกออกแบบมาเพื่อทำให้งานพัฒนาง่ายขึ้น โดยมี **เครื่องมือและ API ที่ตั้งค่าไว้ล่วงหน้า** นักพัฒนาสามารถสร้างแอปคุณภาพสูงได้โดยไม่ต้องเข้าใจเชิงลึกของ Android หรือ iOS

จุดเด่น:

* ไม่ต้องเขียนโค้ดเนทีฟ (เหมาะสำหรับผู้เริ่มต้นหรือทีมขนาดเล็ก)
* มี **API ในตัว** สำหรับกล้อง, GPS, การแจ้งเตือน, เซนเซอร์ ฯลฯ
* รองรับการทดสอบเรียลไทม์ผ่านแอป **Expo Go**

การสร้างโปรเจกต์ใหม่:

```bash
npx create-expo-app MyApp
```

---

### ตารางเปรียบเทียบ

| **คุณลักษณะ (Feature)** | **React Native CLI** | **Expo CLI**                        |
| ----------------------- | -------------------- | ----------------------------------- |
| การรองรับโมดูลเนทีฟ     | เต็มรูปแบบ           | จำกัด (ต้องใช้ EAS สำหรับเพิ่มเติม) |
| ความซับซ้อนในการตั้งค่า | สูง                  | ต่ำ                                 |
| การปรับแต่งประสิทธิภาพ  | ควบคุมได้เต็มที่     | ปานกลาง                             |
| กรณีใช้งานที่เหมาะสม    | แอปซับซ้อน           | Prototyping, MVPs                   |

 

## การตั้งค่า Visual Studio Code

### เหตุผลที่ควรใช้ VS Code

**Visual Studio Code (VS Code)** เป็นโปรแกรมแก้ไขโค้ดที่มีน้ำหนักเบา ยืดหยุ่น และได้รับความนิยมสูง พัฒนาโดย Microsoft เหมาะอย่างยิ่งสำหรับการพัฒนา **JavaScript**, **React**, และ **React Native** จุดเด่นคือ:

* รองรับภาษาโปรแกรมหลากหลาย
* ควบคุม Git ได้ในตัว
* ระบบ **IntelliSense** สำหรับการเติมโค้ดอัตโนมัติ
* รองรับการดีบัก
* มีส่วนขยาย (Extensions) จำนวนมาก

VS Code ช่วยให้ทั้งผู้เริ่มต้นและนักพัฒนาที่มีประสบการณ์ทำงานได้อย่างมีประสิทธิภาพมากขึ้น

---

### ขั้นตอนการตั้งค่า

1. ดาวน์โหลดจาก [https://code.visualstudio.com](https://code.visualstudio.com)

2. ติดตั้งส่วนขยายที่จำเป็น เช่น:

   * **React Native Tools**: สำหรับการดีบักและ IntelliSense เฉพาะ React Native
   * **Prettier**: จัดรูปแบบโค้ดให้สม่ำเสมอ
   * **ESLint**: บังคับใช้มาตรฐานการเขียนโค้ด JavaScript
   * **Path Intellisense**: เติมชื่อไฟล์/โฟลเดอร์อัตโนมัติ
   * **Bracket Pair Colorizer**: แยกสีวงเล็บที่จับคู่กัน

3. ปรับแต่งการตั้งค่า เช่น:

   * เปิดใช้ **Format on Save** เพื่อจัดโค้ดอัตโนมัติเมื่อบันทึกไฟล์
   * ปรับ **tab spacing**, **font**, และ **theme** ตามความถนัด
   * ตั้งค่าในไฟล์ `/.vscode/settings.json` สำหรับโปรเจกต์แต่ละงาน

4. ใช้ **Integrated Terminal** ของ VS Code เพื่อรันคำสั่ง เช่น:

```bash
npm start     # สำหรับ React Native CLI
expo start    # สำหรับ Expo CLI
```

---

## การสร้างแอปแรกด้วย Expo CLI

### ขั้นตอนที่ 1: สร้างโปรเจกต์

```bash
npx create-expo-app myFirstApp
cd myFirstApp
npm start
```

* คำสั่งแรกสร้างโฟลเดอร์ `myFirstApp` พร้อมไฟล์ที่จำเป็นทั้งหมด
* คำสั่ง `npm start` จะเปิด **Expo Dev Server** พร้อม QR Code สำหรับทดสอบแอป

---

### ขั้นตอนที่ 2: ทำความเข้าใจโครงสร้างโฟลเดอร์

* **App.js** → จุดเริ่มต้นของแอป (คล้าย `main()` ในภาษาอื่น)
* **assets/** → เก็บไฟล์ภาพ, ฟอนต์, เสียง
* **node\_modules/** → เก็บ dependencies ที่ติดตั้งจาก npm
* **package.json** → เก็บ metadata, dependencies และสคริปต์ (`start`, `build`, `test`)
* **babel.config.js** → ตั้งค่าสำหรับ Babel (แปลง JavaScript ทันสมัยให้ทำงานได้กว้างขึ้น)

---

### ขั้นตอนที่ 3: การรันแอป

* **ตัวเลือก 1: Emulator Android**

  * เปิด AVD Manager ใน Android Studio
  * รัน Emulator → กด `a` ใน terminal เพื่อเปิดแอป

* **ตัวเลือก 2: อุปกรณ์จริง**

  * ติดตั้ง **Expo Go** จาก Play Store หรือ App Store
  * สแกน QR Code ที่ปรากฏเมื่อรัน `npm start`

* **ตัวเลือก 3: เว็บเบราว์เซอร์**

  * กด `w` ใน terminal → เปิดแอปผ่าน **React Native for Web**

---

### ขั้นตอนที่ 4: การแก้ไขโค้ดและ Hot Reload

React Native และ Expo รองรับ **Fast Refresh** → เมื่อบันทึกโค้ด (`Ctrl+S`) การเปลี่ยนแปลงจะแสดงผลทันทีบนอุปกรณ์/Emulator โดยไม่ต้อง build ใหม่

---

## แนวทางปฏิบัติที่ดีที่สุด (Best Practices)

* ใช้ **Expo** สำหรับ Prototyping → แต่ถ้าแอปต้องใช้โมดูลเนทีฟ ให้ **Eject** ไปยัง Bare Workflow
* แยกโค้ดเป็น **Components ขนาดเล็ก** → ช่วยให้ง่ายต่อการดูแลและนำกลับมาใช้ใหม่
* ยึดตาม **มาตรฐานการตั้งชื่อ**:

  * Components ใช้ **PascalCase** → เช่น `UserProfile.js`
  * ตัวแปร/ฟังก์ชัน ใช้ **camelCase** → เช่น `handleClick`
* ใช้ **Git** หรือระบบ Version Control อื่นในการติดตามโค้ด
* ทดสอบแอปบนทั้ง **Android และ iOS** เพื่อจับบั๊กที่ขึ้นกับแพลตฟอร์ม

---

## เคล็ดลับการแก้ปัญหา (Troubleshooting Tips)

| **ปัญหา**                       | **แนวทางแก้ไข**                                                     |
| ------------------------------- | ------------------------------------------------------------------- |
| คำสั่ง CLI ไม่ทำงาน             | ตรวจสอบว่า Node.js และ npm ติดตั้งแล้ว และ PATH ถูกตั้งค่าเรียบร้อย |
| Emulator ไม่เปิด                | ตรวจสอบการตั้งค่า AVD Manager และเปิดใช้งาน HAXM (สำหรับ Intel)     |
| Permission Error ระหว่างติดตั้ง | ใช้ `sudo` (Unix) หรือ Run as Administrator (Windows)               |
| แอปไม่แสดงในอุปกรณ์จริง         | ตรวจสอบว่าอุปกรณ์และเครื่องพัฒนาอยู่ในเครือข่าย Wi-Fi เดียวกัน      |
| Hot Reload ไม่ทำงาน             | รีสตาร์ท Metro bundler หรือรัน `npm start -- --reset-cache`         |

---

## แบบฝึกหัด (Exercises)

1. ติดตั้ง **Expo CLI** และ **React Native CLI** → สังเกตความแตกต่างของขั้นตอนการติดตั้ง
2. สร้าง Expo App ที่แสดงชื่อของคุณใน `App.js`
3. ระบุ VS Code Extensions 3 ตัว พร้อมประโยชน์ของแต่ละตัว
4. รันแอปทั้งบน Emulator และอุปกรณ์จริง → เปรียบเทียบผลลัพธ์
5. แก้ไขโค้ดนี้:

```jsx
import React from 'react'
import { View, Text } from 'react-native'

const App = () => {
  return (
    <View>
      <Text>Hello World</Text>
      <Text>Missing Closing Tag
    </View>
  )
}
```

---

## แบบฝึกหัดปฏิบัติ (Lab Exercise)

### Assignment 1.1: การสร้างและรันแอปแรกด้วย Expo

**วัตถุประสงค์:** ฝึกการตั้งค่าสภาพแวดล้อม การสร้างโปรเจกต์ และการรันแอป

**คำแนะนำ:**

```bash
npm install -g expo-cli
npx create-expo-app LabApp
cd LabApp
npm start
```

* แก้ไข `App.js` ให้แสดงข้อความทักทาย
* รันแอปใน: Emulator Android, อุปกรณ์จริง (Expo Go), และ Web Browser
* ทดสอบ **Hot Reloading**

**สิ่งที่ต้องส่ง:**

* ภาพหน้าจอแอป
* Source code ของ `App.js`

---

### Assignment 1.2: รายงานการตั้งค่าสภาพแวดล้อม

**วัตถุประสงค์:** บันทึกและสะท้อนการตั้งค่าสภาพแวดล้อม

**คำแนะนำ:**

* **Setup Documentation**

  * อธิบายขั้นตอนการติดตั้ง (Node.js, npm, Expo CLI)
  * ระบุเวอร์ชันที่ใช้
  * แนบภาพหน้าจอ

* **Project Creation**

  * สร้าง `MyFirstProject`
  * แสดงชื่อ-นามสกุล และชื่อรายวิชาใน `App.js`
  * แนบภาพหน้าจอ

* **Project Structure**

  * อธิบายไฟล์/โฟลเดอร์: `App.js`, `assets/`, `node_modules/`, `package.json`

* **Reflection**

  * เหตุผลที่เลือกใช้ Expo CLI
  * ความท้าทายที่พบ
  * ส่วนขยาย VS Code ที่ช่วยได้

**รูปแบบการส่ง:** ไฟล์ PDF พร้อมโค้ดและภาพหน้าจอ

**เกณฑ์การให้คะแนน:**

* ความสมบูรณ์ (40%)
* ความถูกต้อง (30%)
* ความชัดเจนและการจัดโครงสร้าง (20%)
* คุณภาพของภาพหน้าจอ/หลักฐาน (10%)

 