

# สัปดาห์ที่ 2 เดือนกันยายน 2025

**หัวข้อ:** ส่วนประกอบของ UI และการโต้ตอบ (UI Components & Interaction)

---

## วัตถุประสงค์การเรียนรู้ (Learning Objectives)

* ออกแบบส่วนประกอบของ UI และพัฒนาการโต้ตอบของผู้ใช้

---

## หัวข้อย่อย (Subtopics)

* Smart vs Dumb components
* View, Text, Input
* Touchable elements

---

## ส่วนประกอบ (Components)

ใน React Native **Component** คือหน่วยย่อยที่มีความเป็นอิสระ (modular, self-contained) ประกอบด้วยส่วนติดต่อผู้ใช้และพฤติกรรม (behavior) โดยเป็นพื้นฐานสำคัญของการสร้างแอปพลิเคชันที่สามารถปรับขยาย (scalable), นำกลับมาใช้ซ้ำได้ (reusable), และดูแลรักษาได้ง่าย (maintainable)

ใน React และ React Native มักใช้รูปแบบการออกแบบ (design patterns) 2 แบบเพื่อจัดโครงสร้างของ Component ได้แก่:

1. **Dumb components (หรือ Presentational components):**

   * เน้นการแสดงผล (UI appearance)
   * รับข้อมูลผ่าน props และแสดงผลตามข้อมูลนั้น
   * ไม่มี state และไม่เกี่ยวข้องกับ business logic

2. **Smart components (หรือ Container components):**

   * เน้นการจัดการ logic, state, และ data flow
   * ดึงข้อมูล, จัดการ state และส่งข้อมูลไปยัง Dumb components
   * เป็นตัวกลางระหว่างตรรกะการทำงานกับการแสดงผล

---

### Smart Component (Container)

Smart Component มีหน้าที่จัดการ state และ logic ของแอปพลิเคชัน และส่งข้อมูลไปยัง Dumb Component เพื่อแสดงผล

```javascript
// SmartComponent.js
import React, { useState } from 'react';
import { View, TextInput, StyleSheet } from 'react-native';
import Greeting from './Greeting'; // Dumb component

const SmartComponent = () => {
  const [name, setName] = useState('');

  return (
    <View style={styles.container}>
      <TextInput
        style={styles.input}
        placeholder="Enter your name"
        value={name}
        onChangeText={setName}
      />
      <Greeting name={name} />
    </View>
  );
};

const styles = StyleSheet.create({
  container: { padding: 20 },
  input: {
    borderBottomWidth: 1,
    borderColor: '#ccc',
    marginBottom: 10,
    padding: 5
  }
});

export default SmartComponent;
```

---

### Dumb Component (Presentational)

Dumb Component เป็นส่วนประกอบที่ไม่มี state และเน้นการแสดงผลเท่านั้น โดยรับข้อมูลจาก props

```javascript
// Greeting.js
import React from 'react';
import { Text, StyleSheet } from 'react-native';

const Greeting = ({ name }) => {
  return <Text style={styles.text}>Hello, {name || 'Stranger'}!</Text>;
};

const styles = StyleSheet.create({
  text: {
    fontSize: 20,
    color: 'teal',
    marginTop: 10
  }
});

export default Greeting;
```

---

### ตารางเปรียบเทียบ Smart และ Dumb Component

| คุณลักษณะ (Feature)     | Smart Component          | Dumb Component        |
| ----------------------- | ------------------------ | --------------------- |
| จัดการ State            | ใช่ (Yes)                | ไม่ (No)              |
| จัดการ Logic            | ใช่                      | ไม่                   |
| ใช้ Props               | ใช่ (ส่งต่อให้ลูก)       | ใช่ (รับข้อมูล)       |
| การแสดงผล UI            | ทางอ้อม (Indirectly)     | โดยตรง (Directly)     |
| ความสามารถในการทดสอบแยก | ต่ำกว่า (มี logic/state) | สูง (pure function)   |
| ความรับผิดชอบหลัก       | ตรรกะและ data flow       | การแสดงผล UI เท่านั้น |

---

## ส่วนประกอบ View และ Text (View and Text Components)

**`View`** และ **`Text`** คือองค์ประกอบพื้นฐาน (fundamental building blocks) ของทุกแอปพลิเคชัน React Native ส่วนประกอบเหล่านี้จะถูกแมปไปยัง native UI element ของแต่ละแพลตฟอร์มโดยตรง เช่น `UIView` บน iOS และ `ViewGroup` บน Android ซึ่งช่วยให้นักพัฒนาสามารถสร้างอินเทอร์เฟซที่มีความสามารถปรับขยาย (scalable) และดูแลรักษาได้ง่าย (maintainable)

---

### View Component

`<View>` ทำหน้าที่เป็น container ที่ยืดหยุ่น รองรับการจัดวาง (layout), การกำหนดรูปแบบ (style), และการโต้ตอบแบบสัมผัส (touch interaction)

คุณลักษณะสำคัญ:

* รองรับการใช้ **Flexbox** เพื่อออกแบบ layout ที่ตอบสนองต่อขนาดหน้าจอ โดยใช้ properties เช่น `flex`, `justifyContent`, และ `alignItems`
* สามารถซ้อน (nest) องค์ประกอบอื่น ๆ เช่น `Text`, `Image` หรือ `View` อื่น ๆ ได้
* รองรับ inline styles หรือ styles ภายนอกที่กำหนดด้วย `StyleSheet.create()`
* รองรับ touch responder props และ accessibility attributes

**ตัวอย่าง: View พื้นฐาน**

```javascript
import React from 'react';
import { View, Text } from 'react-native';

const App = () => (
  <View style={{ padding: 10, backgroundColor: '#f0f0f0' }}>
    <Text>Welcome to React Native!</Text>
  </View>
);
```

---

### Text Component

`<Text>` ใช้สำหรับการแสดงผลข้อความโดยเฉพาะ โดยมีการจัดการ line-wrapping และ text styling ให้อัตโนมัติ

คุณลักษณะสำคัญ:

* `<Text>` ลูกสามารถสืบทอด (inherit) หรือเขียนทับ (override) styles จาก `<Text>` พ่อแม่ได้
* ข้อความทั้งหมดใน React Native จะต้องถูกห่อด้วย `<Text>` (ไม่สามารถวาง string ดิบลงใน `<View>` ได้โดยตรง)
* รองรับ style properties สำหรับการกำหนดสี ขนาดตัวอักษร ระยะห่าง และอื่น ๆ

**ตัวอย่าง: Text พร้อมการกำหนด Style**

```javascript
import React from 'react';
import { View, Text } from 'react-native';

const App = () => (
  <View style={{ padding: 10, backgroundColor: '#f0f0f0' }}>
    <Text style={{ fontSize: 20, color: 'blue' }}>
      Hello, React Native!
    </Text>
  </View>
);
```

---

### แนวปฏิบัติที่ดีและการเข้าถึง (Best Practices & Accessibility)

1. ใช้ `<View>` สำหรับจัดกลุ่มองค์ประกอบ, แบ่ง section ของ layout, และเพิ่ม spacing หรือ background
2. ควร wrap ข้อความทุกชนิดด้วย `<Text>` แม้เป็นข้อความสั้น ๆ
3. ใช้ `StyleSheet.create()` แทน inline style เพื่อเพิ่มประสิทธิภาพและความเป็นระเบียบ
4. ใส่ props ด้าน accessibility (เช่น `accessibilityRole`, `accessible`) เพื่อทำให้แอปเหมาะสมกับผู้ใช้ทุกกลุ่ม

---

### สรุปแบบ Quick Reference

| Component | หน้าที่ (Purpose)                                       |
| --------- | ------------------------------------------------------- |
| `View`    | Container อเนกประสงค์ รองรับ layout, style และการโต้ตอบ |
| `Text`    | ใช้แสดงข้อความ และรองรับ nested styling                 |


 
## การใช้ StyleSheet และ Inline Style (Using StyleSheet and Inline Style)

### ภาพรวม (Overview)

ในการพัฒนา React Native การจัดรูปแบบ (styling) ทั้งหมดจะดำเนินการผ่านภาษา **JavaScript** โดยใช้ API ที่ชื่อว่า `StyleSheet` หรือการเขียน **inline style** ภายใน JSX โดยตรง แม้ว่าทั้งสองวิธีสามารถสร้างผลลัพธ์ทางสายตาที่เหมือนกัน แต่แต่ละแนวทางก็มีข้อดีและข้อจำกัดในแง่ **การดูแลรักษา (maintainability)**, **ความชัดเจนของโค้ด (readability)** และ **ประสิทธิภาพ (performance)**

ควรสังเกตว่า การจัดรูปแบบใน React Native ไม่ได้ใช้ CSS โดยตรง แต่ใช้ **subset ของ CSS-like properties** ซึ่งอยู่ในรูปของ JavaScript object

---

### การใช้ StyleSheet

`StyleSheet` API เป็นแนวทางที่ **แนะนำ** สำหรับการจัดการ style ใน React Native เพราะช่วยให้โค้ดมีโครงสร้างที่ดีขึ้น และแยกการกำหนดรูปแบบออกจากตรรกะของ component

คุณลักษณะสำคัญ:

* สามารถกำหนด style ไว้เพียงครั้งเดียวด้วย `StyleSheet.create()` ซึ่งคืนค่าเป็น style object
* ส่งเสริมการนำกลับมาใช้ซ้ำ (reusability) และปรับปรุงประสิทธิภาพด้วย internal optimization ของ React Native
* เหมาะสำหรับการดูแลรักษาในโครงการขนาดใหญ่หรือระบบที่ใช้ design system

**ตัวอย่าง: การใช้ StyleSheet**

```javascript
import React from 'react';
import { View, Text, StyleSheet } from 'react-native';

const App = () => (
  <View style={styles.container}>
    <Text style={styles.text}>Styling with StyleSheet</Text>
  </View>
);

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#e0f7fa',
  },
  text: {
    fontSize: 24,
    color: 'teal',
  },
});

export default App;
```

**ควรใช้ StyleSheet เมื่อ:**

* พัฒนาแอประดับ production
* มีหลาย component ที่ใช้รูปแบบการออกแบบเดียวกัน
* ทำงานร่วมกับทีมที่ต้องการโค้ดที่เป็นระเบียบและอ่านง่าย

---

### การใช้ Inline Style

**Inline style** จะถูกกำหนดโดยตรงใน JSX tag ผ่าน JavaScript object เหมาะสำหรับ **การทดลองอย่างรวดเร็ว (quick prototyping)** หรือกรณีที่ style ต้องขึ้นอยู่กับ state หรือ props

คุณลักษณะสำคัญ:

* กำหนด style ภายใน tag ผ่าน `style={{ ... }}`
* มีประโยชน์เมื่อ style ต้องการค่าที่เปลี่ยนแปลงแบบ dynamic ตาม state หรือ props
* ข้อเสียคือดูแลรักษายากในโค้ดเบสขนาดใหญ่ และทำให้ JSX ดูรก

**ตัวอย่าง: การใช้ Inline Style**

```javascript
<Text style={{ fontSize: 20, color: 'blue' }}>
  Hello, React Native!
</Text>
```

---

### แนวปฏิบัติที่ดี (Best Practices)

* ควรใช้ `StyleSheet.create()` เป็นหลักเพื่อแยกตรรกะออกจากการนำเสนอ (logic vs presentation)
* ใช้ inline style ในกรณีจำเป็น เช่น:

  * การทดสอบหรือปรับแต่งชั่วคราว (quick tweaks)
  * การจัดรูปแบบที่ขึ้นอยู่กับค่าที่คำนวณจาก state หรือ props
* หลีกเลี่ยงการซ้อน style ที่ซับซ้อนหรือการผสม inline style หลายชั้น เพราะจะทำให้โค้ดอ่านยาก

---

### ตารางเปรียบเทียบ (Comparison Table)

| ประเด็น (Aspect)  | **StyleSheet API**                      | **Inline Style**                      |
| ----------------- | --------------------------------------- | ------------------------------------- |
| ตำแหน่งการกำหนด   | กำหนดนอก JSX ด้วย `StyleSheet.create()` | กำหนดใน JSX โดยตรง `style={{}}`       |
| ความชัดเจนของโค้ด | สูง (แยกจาก logic)                      | ต่ำ (ปนกับ JSX)                       |
| การนำกลับมาใช้ซ้ำ | สูง                                     | ต่ำ                                   |
| ประสิทธิภาพ       | ได้รับการ optimize ภายใน React Native   | ประเมินผล inline ทุกครั้ง runtime     |
| เหมาะสำหรับ       | Production apps, reusable components    | Quick prototyping, dynamic conditions |

 
